(self.webpackChunknovela_blog=self.webpackChunknovela_blog||[]).push([[961],{4333:function(e,t,i){"use strict";var a=i(4994);t.A=void 0;var n,r=a(i(2475)),o=a(i(6221)),s=a(i(4893)),d=a(i(4634)),l=a(i(6540)),h=a(i(5556)),c=["sizes","srcSet","src","style","onLoad","onError","loading","draggable","ariaHidden"],u=function(e){var t=(0,d.default)({},e),i=t.resolutions,a=t.sizes,n=t.critical;return i&&(t.fixed=i,delete t.resolutions),a&&(t.fluid=a,delete t.sizes),n&&(t.loading="eager"),t.fluid&&(t.fluid=L([].concat(t.fluid))),t.fixed&&(t.fixed=L([].concat(t.fixed))),t},f=function(e){var t=e.media;return!!t&&(w&&!!window.matchMedia(t).matches)},g=function(e){var t=e.fluid,i=e.fixed,a=m(t||i||[]);return a&&a.src},m=function(e){if(w&&function(e){return!!e&&Array.isArray(e)&&e.some((function(e){return void 0!==e.media}))}(e)){var t=e.findIndex(f);if(-1!==t)return e[t];var i=e.findIndex((function(e){return void 0===e.media}));if(-1!==i)return e[i]}return e[0]},p=Object.create({}),v=function(e){var t=u(e),i=g(t);return p[i]||!1},b="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype,w="undefined"!=typeof window,S=w&&window.IntersectionObserver,E=new WeakMap;function y(e){return e.map((function(e){var t=e.src,i=e.srcSet,a=e.srcSetWebp,n=e.media,r=e.sizes;return l.default.createElement(l.default.Fragment,{key:t},a&&l.default.createElement("source",{type:"image/webp",media:n,srcSet:a,sizes:r}),i&&l.default.createElement("source",{media:n,srcSet:i,sizes:r}))}))}function L(e){var t=[],i=[];return e.forEach((function(e){return(e.media?t:i).push(e)})),[].concat(t,i)}function z(e){return e.map((function(e){var t=e.src,i=e.media,a=e.tracedSVG;return l.default.createElement("source",{key:t,media:i,srcSet:a})}))}function I(e){return e.map((function(e){var t=e.src,i=e.media,a=e.base64;return l.default.createElement("source",{key:t,media:i,srcSet:a})}))}function C(e,t){var i=e.srcSet,a=e.srcSetWebp,n=e.media,r=e.sizes;return"<source "+(t?"type='image/webp' ":"")+(n?'media="'+n+'" ':"")+'srcset="'+(t?a:i)+'" '+(r?'sizes="'+r+'" ':"")+"/>"}var H=function(e,t){var i=(void 0===n&&"undefined"!=typeof window&&window.IntersectionObserver&&(n=new window.IntersectionObserver((function(e){e.forEach((function(e){if(E.has(e.target)){var t=E.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(n.unobserve(e.target),E.delete(e.target),t())}}))}),{rootMargin:"200px"})),n);return i&&(i.observe(e),E.set(e,t)),function(){i.unobserve(e),E.delete(e)}},W=function(e){var t=e.src?'src="'+e.src+'" ':'src="" ',i=e.sizes?'sizes="'+e.sizes+'" ':"",a=e.srcSet?'srcset="'+e.srcSet+'" ':"",n=e.title?'title="'+e.title+'" ':"",r=e.alt?'alt="'+e.alt+'" ':'alt="" ',o=e.width?'width="'+e.width+'" ':"",s=e.height?'height="'+e.height+'" ':"",d=e.crossOrigin?'crossorigin="'+e.crossOrigin+'" ':"",l=e.loading?'loading="'+e.loading+'" ':"",h=e.draggable?'draggable="'+e.draggable+'" ':"";return"<picture>"+e.imageVariants.map((function(e){return(e.srcSetWebp?C(e,!0):"")+C(e)})).join("")+"<img "+l+o+s+i+a+t+r+n+d+h+'style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture>'},x=l.default.forwardRef((function(e,t){var i=e.src,a=e.imageVariants,n=e.generateSources,r=e.spreadProps,o=e.ariaHidden,s=l.default.createElement(M,(0,d.default)({ref:t,src:i},r,{ariaHidden:o}));return a.length>1?l.default.createElement("picture",null,n(a),s):s})),M=l.default.forwardRef((function(e,t){var i=e.sizes,a=e.srcSet,n=e.src,r=e.style,o=e.onLoad,h=e.onError,u=e.loading,f=e.draggable,g=e.ariaHidden,m=(0,s.default)(e,c);return l.default.createElement("img",(0,d.default)({"aria-hidden":g,sizes:i,srcSet:a,src:n},m,{onLoad:o,onError:h,ref:t,loading:u,draggable:f,style:(0,d.default)({position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"},r)}))}));M.propTypes={style:h.default.object,onError:h.default.func,onLoad:h.default.func};var R=function(e){function t(t){var i;(i=e.call(this,t)||this).seenBefore=w&&v(t),i.isCritical="eager"===t.loading||t.critical,i.addNoScript=!(i.isCritical&&!t.fadeIn),i.useIOSupport=!b&&S&&!i.isCritical&&!i.seenBefore;var a=i.isCritical||w&&(b||!i.useIOSupport);return i.state={isVisible:a,imgLoaded:!1,imgCached:!1,fadeIn:!i.seenBefore&&t.fadeIn,isHydrated:!1},i.imageRef=l.default.createRef(),i.placeholderRef=t.placeholderRef||l.default.createRef(),i.handleImageLoaded=i.handleImageLoaded.bind((0,r.default)(i)),i.handleRef=i.handleRef.bind((0,r.default)(i)),i}(0,o.default)(t,e);var i=t.prototype;return i.componentDidMount=function(){if(this.setState({isHydrated:w}),this.state.isVisible&&"function"==typeof this.props.onStartLoad&&this.props.onStartLoad({wasCached:v(this.props)}),this.isCritical){var e=this.imageRef.current;e&&e.complete&&this.handleImageLoaded()}},i.componentWillUnmount=function(){this.cleanUpListeners&&this.cleanUpListeners()},i.handleRef=function(e){var t=this;this.useIOSupport&&e&&(this.cleanUpListeners=H(e,(function(){var e=v(t.props);t.state.isVisible||"function"!=typeof t.props.onStartLoad||t.props.onStartLoad({wasCached:e}),t.setState({isVisible:!0},(function(){t.setState({imgLoaded:e,imgCached:!(!t.imageRef.current||!t.imageRef.current.currentSrc)})}))})))},i.handleImageLoaded=function(){var e,t,i;e=this.props,t=u(e),(i=g(t))&&(p[i]=!0),this.setState({imgLoaded:!0}),this.props.onLoad&&this.props.onLoad()},i.render=function(){var e=u(this.props),t=e.title,i=e.alt,a=e.className,n=e.style,r=void 0===n?{}:n,o=e.imgStyle,s=void 0===o?{}:o,h=e.placeholderStyle,c=void 0===h?{}:h,f=e.placeholderClassName,g=e.fluid,p=e.fixed,v=e.backgroundColor,b=e.durationFadeIn,w=e.Tag,S=e.itemProp,E=e.loading,L=e.draggable,C=g||p;if(!C)return null;var H=!1===this.state.fadeIn||this.state.imgLoaded,R=!0===this.state.fadeIn&&!this.state.imgCached,T=(0,d.default)({opacity:H?1:0,transition:R?"opacity "+b+"ms":"none"},s),k="boolean"==typeof v?"lightgray":v,N={transitionDelay:b+"ms"},O=(0,d.default)({opacity:this.state.imgLoaded?0:1},R&&N,s,c),D={title:t,alt:this.state.isVisible?"":i,style:O,className:f,itemProp:S},A=this.state.isHydrated?m(C):C[0];if(g)return l.default.createElement(w,{className:(a||"")+" gatsby-image-wrapper",style:(0,d.default)({position:"relative",overflow:"hidden",maxWidth:A.maxWidth?A.maxWidth+"px":null,maxHeight:A.maxHeight?A.maxHeight+"px":null},r),ref:this.handleRef,key:"fluid-"+JSON.stringify(A.srcSet)},l.default.createElement(w,{"aria-hidden":!0,style:{width:"100%",paddingBottom:100/A.aspectRatio+"%"}}),k&&l.default.createElement(w,{"aria-hidden":!0,title:t,style:(0,d.default)({backgroundColor:k,position:"absolute",top:0,bottom:0,opacity:this.state.imgLoaded?0:1,right:0,left:0},R&&N)}),A.base64&&l.default.createElement(x,{ariaHidden:!0,ref:this.placeholderRef,src:A.base64,spreadProps:D,imageVariants:C,generateSources:I}),A.tracedSVG&&l.default.createElement(x,{ariaHidden:!0,ref:this.placeholderRef,src:A.tracedSVG,spreadProps:D,imageVariants:C,generateSources:z}),this.state.isVisible&&l.default.createElement("picture",null,y(C),l.default.createElement(M,{alt:i,title:t,sizes:A.sizes,src:A.src,crossOrigin:this.props.crossOrigin,srcSet:A.srcSet,style:T,ref:this.imageRef,onLoad:this.handleImageLoaded,onError:this.props.onError,itemProp:S,loading:E,draggable:L})),this.addNoScript&&l.default.createElement("noscript",{dangerouslySetInnerHTML:{__html:W((0,d.default)({alt:i,title:t,loading:E},A,{imageVariants:C}))}}));if(p){var Z=(0,d.default)({position:"relative",overflow:"hidden",display:"inline-block",width:A.width,height:A.height},r);return"inherit"===r.display&&delete Z.display,l.default.createElement(w,{className:(a||"")+" gatsby-image-wrapper",style:Z,ref:this.handleRef,key:"fixed-"+JSON.stringify(A.srcSet)},k&&l.default.createElement(w,{"aria-hidden":!0,title:t,style:(0,d.default)({backgroundColor:k,width:A.width,opacity:this.state.imgLoaded?0:1,height:A.height},R&&N)}),A.base64&&l.default.createElement(x,{ariaHidden:!0,ref:this.placeholderRef,src:A.base64,spreadProps:D,imageVariants:C,generateSources:I}),A.tracedSVG&&l.default.createElement(x,{ariaHidden:!0,ref:this.placeholderRef,src:A.tracedSVG,spreadProps:D,imageVariants:C,generateSources:z}),this.state.isVisible&&l.default.createElement("picture",null,y(C),l.default.createElement(M,{alt:i,title:t,width:A.width,height:A.height,sizes:A.sizes,src:A.src,crossOrigin:this.props.crossOrigin,srcSet:A.srcSet,style:T,ref:this.imageRef,onLoad:this.handleImageLoaded,onError:this.props.onError,itemProp:S,loading:E,draggable:L})),this.addNoScript&&l.default.createElement("noscript",{dangerouslySetInnerHTML:{__html:W((0,d.default)({alt:i,title:t,loading:E},A,{imageVariants:C}))}}))}return null},t}(l.default.Component);R.defaultProps={fadeIn:!0,durationFadeIn:500,alt:"",Tag:"div",loading:"lazy"};var T=h.default.shape({width:h.default.number.isRequired,height:h.default.number.isRequired,src:h.default.string.isRequired,srcSet:h.default.string.isRequired,base64:h.default.string,tracedSVG:h.default.string,srcWebp:h.default.string,srcSetWebp:h.default.string,media:h.default.string}),k=h.default.shape({aspectRatio:h.default.number.isRequired,src:h.default.string.isRequired,srcSet:h.default.string.isRequired,sizes:h.default.string.isRequired,base64:h.default.string,tracedSVG:h.default.string,srcWebp:h.default.string,srcSetWebp:h.default.string,media:h.default.string,maxWidth:h.default.number,maxHeight:h.default.number});function N(e){return function(t,i,a){var n;if(!t.fixed&&!t.fluid)throw new Error("The prop `fluid` or `fixed` is marked as required in `"+a+"`, but their values are both `undefined`.");h.default.checkPropTypes(((n={})[i]=e,n),t,"prop",a)}}R.propTypes={resolutions:T,sizes:k,fixed:N(h.default.oneOfType([T,h.default.arrayOf(T)])),fluid:N(h.default.oneOfType([k,h.default.arrayOf(k)])),fadeIn:h.default.bool,durationFadeIn:h.default.number,title:h.default.string,alt:h.default.string,className:h.default.oneOfType([h.default.string,h.default.object]),critical:h.default.bool,crossOrigin:h.default.oneOfType([h.default.string,h.default.bool]),style:h.default.object,imgStyle:h.default.object,placeholderStyle:h.default.object,placeholderClassName:h.default.string,backgroundColor:h.default.oneOfType([h.default.string,h.default.bool]),onLoad:h.default.func,onError:h.default.func,onStartLoad:h.default.func,Tag:h.default.string,itemProp:h.default.string,loading:h.default.oneOf(["auto","lazy","eager"]),draggable:h.default.bool};var O=R;t.A=O},5698:function(e,t,i){"use strict";i.d(t,{xb:function(){return k},Px:function(){return W},Ay:function(){return s}});var a=i(3942),n=i(4333),r=i(7437);const o=(0,a.A)(n.A,{target:"e6xlgue0"})({name:"cnpkcl",styles:"&>img{filter:blur(8px);}"});var s=e=>{let{src:t,alt:i,...a}=e;const s={alt:i,...a};if(!t)return null;const d="string"!=typeof t;s[(d&&t.width&&t.height?"fixed":d&&"fluid")||"src"]=t;const l=t.tracedSVG?n.A:o;return d?(0,r.Y)(l,s):(0,r.Y)("img",s)},d=i(6540),l=i(961);const h=(e,t)=>e===t?.tagName?.toUpperCase?.(),c=e=>h("DIV",e)||h("SPAN",e),u=e=>h("IMG",e),f=e=>e.complete&&0!==e.naturalHeight,g=e=>h("SVG",e),m=({height:e,offset:t,width:i})=>Math.min((window.innerWidth-2*t)/i,(window.innerHeight-2*t)/e),p=({containerHeight:e,containerWidth:t,hasScalableSrc:i,offset:a,targetHeight:n,targetWidth:r})=>e&&t?!i&&n&&r?(({containerHeight:e,containerWidth:t,offset:i,targetHeight:a,targetWidth:n})=>{const r=m({height:a,offset:i,width:n}),o=n>a?n/t:a/e;return r>1?o:r*o})({containerHeight:e,containerWidth:t,offset:a,targetHeight:n,targetWidth:r}):m({height:e,offset:a,width:t}):1,v=/url(?:\(['"]?)(.*?)(?:['"]?\))/,b=e=>{if(e){if(u(e))return e.currentSrc;if(c(e)){const t=window.getComputedStyle(e).backgroundImage;if(t)return v.exec(t)?.[1]}}},w=({position:e,relativeNum:t})=>{const i=parseFloat(e);return e.endsWith("%")?t*i/100:i},S=/\.svg$/i,E=({hasZoomImg:e,imgSrc:t,isSvg:i,isZoomed:a,loadedImgEl:n,offset:r,shouldRefresh:o,targetEl:s})=>{const d=i||"data:image/svg+xml"===t?.slice?.(0,18)||e||!(!t||!S.test(t)),l=s.getBoundingClientRect(),h=window.getComputedStyle(s),u=null!=n&&c(s),f=null!=n&&!u,g=(({containerHeight:e,containerLeft:t,containerTop:i,containerWidth:a,hasScalableSrc:n,offset:r,targetHeight:o,targetWidth:s})=>{const d=p({containerHeight:e,containerWidth:a,hasScalableSrc:n,offset:r,targetHeight:o,targetWidth:s});return{top:i,left:t,width:a*d,height:e*d,transform:`translate(0,0) scale(${1/d})`}})({containerHeight:l.height,containerLeft:l.left,containerTop:l.top,containerWidth:l.width,hasScalableSrc:d,offset:r,targetHeight:n?.naturalHeight??l.height,targetWidth:n?.naturalWidth??l.width}),m=f?(({containerHeight:e,containerLeft:t,containerTop:i,containerWidth:a,hasScalableSrc:n,objectFit:r,objectPosition:o,offset:s,targetHeight:d,targetWidth:l})=>{if("scale-down"===r&&(r=l<=a&&d<=e?"none":"contain"),"cover"===r||"contain"===r){const h=a/l,c=e/d,u="cover"===r?Math.max(h,c):Math.min(h,c),[f="50%",g="50%"]=o.split(" "),m=w({position:f,relativeNum:a-l*u}),v=w({position:g,relativeNum:e-d*u}),b=p({containerHeight:d*u,containerWidth:l*u,hasScalableSrc:n,offset:s,targetHeight:d,targetWidth:l});return{top:i+v,left:t+m,width:l*u*b,height:d*u*b,transform:`translate(0,0) scale(${1/b})`}}if("none"===r){const[r="50%",h="50%"]=o.split(" "),c=w({position:r,relativeNum:a-l}),u=w({position:h,relativeNum:e-d}),f=p({containerHeight:d,containerWidth:l,hasScalableSrc:n,offset:s,targetHeight:d,targetWidth:l});return{top:i+u,left:t+c,width:l*f,height:d*f,transform:`translate(0,0) scale(${1/f})`}}if("fill"===r){const t=a/l,i=e/d,r=Math.max(t,i),o=p({containerHeight:d*r,containerWidth:l*r,hasScalableSrc:n,offset:s,targetHeight:d,targetWidth:l});return{width:a*o,height:e*o,transform:`translate(0,0) scale(${1/o})`}}return{}})({containerHeight:l.height,containerLeft:l.left,containerTop:l.top,containerWidth:l.width,hasScalableSrc:d,objectFit:h.objectFit,objectPosition:h.objectPosition,offset:r,targetHeight:n.naturalHeight,targetWidth:n.naturalWidth}):void 0,v=u?(({backgroundPosition:e,backgroundSize:t,containerHeight:i,containerLeft:a,containerTop:n,containerWidth:r,hasScalableSrc:o,offset:s,targetHeight:d,targetWidth:l})=>{if("cover"===t||"contain"===t){const h=r/l,c=i/d,u="cover"===t?Math.max(h,c):Math.min(h,c),[f="50%",g="50%"]=e.split(" "),m=w({position:f,relativeNum:r-l*u}),v=w({position:g,relativeNum:i-d*u}),b=p({containerHeight:d*u,containerWidth:l*u,hasScalableSrc:o,offset:s,targetHeight:d,targetWidth:l});return{top:n+v,left:a+m,width:l*u*b,height:d*u*b,transform:`translate(0,0) scale(${1/b})`}}if("auto"===t){const[t="50%",h="50%"]=e.split(" "),c=w({position:t,relativeNum:r-l}),u=w({position:h,relativeNum:i-d}),f=p({containerHeight:d,containerWidth:l,hasScalableSrc:o,offset:s,targetHeight:d,targetWidth:l});return{top:n+u,left:a+c,width:l*f,height:d*f,transform:`translate(0,0) scale(${1/f})`}}{const[h="50%",c="50%"]=t.split(" "),u=w({position:h,relativeNum:r})/l,f=w({position:c,relativeNum:i})/d,g=Math.min(u,f),[m="50%",v="50%"]=e.split(" "),b=w({position:m,relativeNum:r-l*g}),S=w({position:v,relativeNum:i-d*g}),E=p({containerHeight:d*g,containerWidth:l*g,hasScalableSrc:o,offset:s,targetHeight:d,targetWidth:l});return{top:n+S,left:a+b,width:l*g*E,height:d*g*E,transform:`translate(0,0) scale(${1/E})`}}})({backgroundPosition:h.backgroundPosition,backgroundSize:h.backgroundSize,containerHeight:l.height,containerLeft:l.left,containerTop:l.top,containerWidth:l.width,hasScalableSrc:d,offset:r,targetHeight:n.naturalHeight,targetWidth:n.naturalWidth}):void 0,b=Object.assign({},g,m,v);if(a){const e=window.innerWidth/2,t=window.innerHeight/2,i=e-(parseFloat(String(b.left||0))+parseFloat(String(b.width||0))/2),a=t-(parseFloat(String(b.top||0))+parseFloat(String(b.height||0))/2);o&&(b.transitionDuration="0.01ms"),b.transform=`translate(${i}px,${a}px) scale(1)`}return b},y=["img","svg",'[role="img"]',"[data-zoom]"].map((e=>`${e}:not([aria-hidden="true"])`)).join(","),L={overflow:"",width:""};function z(e){return d.createElement(I,{...e})}class I extends d.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1},this.refContent=(0,d.createRef)(),this.refDialog=(0,d.createRef)(),this.refModalContent=(0,d.createRef)(),this.refModalImg=(0,d.createRef)(),this.refWrap=(0,d.createRef)(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=L,this.styleModalImg={},this.getDialogContainer=()=>{let e=document.querySelector("[data-rmiz-portal]");return null==e&&(e=document.createElement("div"),e.setAttribute("data-rmiz-portal",""),document.body.appendChild(e)),e},this.setId=()=>{const e=()=>Math.random().toString(16).slice(-4);this.setState({id:e()+e()+e()})},this.setAndTrackImg=()=>{const e=this.refContent.current;e&&(this.imgEl=e.querySelector(y),this.imgEl?(this.changeObserver?.disconnect?.(),this.imgEl?.addEventListener?.("load",this.handleImgLoad),this.imgEl?.addEventListener?.("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElObserver=new ResizeObserver((e=>{const t=e[0];t?.target&&(this.imgEl=t.target,this.setState({}))})),this.imgElObserver.observe(this.imgEl)):this.changeObserver||(this.changeObserver=new MutationObserver(this.setAndTrackImg),this.changeObserver.observe(e,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=e=>{const{isZoomed:t}=this.props;!e&&t?this.zoom():e&&!t&&this.unzoom()},this.handleImgLoad=()=>{const{imgEl:e}=this,t=b(e);if(!t)return;const i=new Image;u(e)&&(i.sizes=e.sizes,i.srcset=e.srcset),i.src=t;const a=()=>{this.setState({loadedImgEl:i})};i.decode().then(a).catch((()=>{f(i)?a():i.onload=a}))},this.handleZoom=()=>{this.props.onZoomChange?.(!0)},this.handleUnzoom=()=>{this.props.onZoomChange?.(!1)},this.handleDialogCancel=e=>{e.preventDefault()},this.handleDialogClick=e=>{e.target!==this.refModalContent.current&&e.target!==this.refModalImg.current||this.handleUnzoom()},this.handleKeyDown=e=>{"Escape"!==e.key&&27!==e.keyCode||(e.preventDefault(),e.stopPropagation(),this.handleUnzoom())},this.handleWheel=e=>{e.ctrlKey||(e.stopPropagation(),queueMicrotask((()=>{this.handleUnzoom()})))},this.handleTouchStart=e=>{e.touches.length>1?this.isScaling=!0:1===e.changedTouches.length&&e.changedTouches[0]&&(this.touchYStart=e.changedTouches[0].screenY)},this.handleTouchMove=e=>{const t=window.visualViewport?.scale??1;if(!this.isScaling&&t<=1&&null!=this.touchYStart&&e.changedTouches[0]){this.touchYEnd=e.changedTouches[0].screenY;const t=Math.max(this.touchYStart,this.touchYEnd),i=Math.min(this.touchYStart,this.touchYEnd);Math.abs(t-i)>10&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.zoom=()=>{this.bodyScrollDisable(),this.refDialog.current?.showModal?.(),this.setState({modalState:"LOADING"}),this.loadZoomImg(),window.addEventListener("wheel",this.handleWheel,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0),this.refModalImg.current?.addEventListener?.("transitionend",this.handleZoomEnd,{once:!0})},this.handleZoomEnd=()=>{setTimeout((()=>{this.setState({modalState:"LOADED"}),window.addEventListener("resize",this.handleResize,{passive:!0})}),0)},this.unzoom=()=>{this.setState({modalState:"UNLOADING"}),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0),this.refModalImg.current?.addEventListener?.("transitionend",this.handleUnzoomEnd,{once:!0})},this.handleUnzoomEnd=()=>{setTimeout((()=>{window.removeEventListener("resize",this.handleResize),this.setState({shouldRefresh:!1,modalState:"UNLOADED"}),this.refDialog.current?.close?.(),this.bodyScrollEnable()}),0)},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const e=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${e}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=L},this.loadZoomImg=()=>{const{props:{zoomImg:e}}=this,t=e?.src;if(t){const i=new Image;i.sizes=e?.sizes??"",i.srcset=e?.srcSet??"",i.src=t;const a=()=>{this.setState({isZoomImgLoaded:!0})};i.decode().then(a).catch((()=>{f(i)?a():i.onload=a}))}},this.UNSAFE_handleSvg=()=>{const{imgEl:e,refModalImg:t,styleModalImg:i}=this;if(g(e)){const a=document.createElement("div");a.innerHTML=e.outerHTML,a.querySelectorAll("mask[id]").forEach((e=>{const t=e.id+"-zoom";a.querySelectorAll(`[mask="url(#${e.id})"]`).forEach((e=>{e.setAttribute("mask",`url(#${t})`)})),e.id=t}));const n=a.firstChild;n.style.width=`${i.width||0}px`,n.style.height=`${i.height||0}px`,n.addEventListener("click",this.handleUnzoom),t.current?.firstChild?.remove?.(),t.current?.appendChild?.(n)}}}render(){const{handleDialogCancel:e,handleDialogClick:t,handleUnzoom:i,handleZoom:a,imgEl:n,props:{a11yNameButtonUnzoom:r,a11yNameButtonZoom:o,children:s,classDialog:h,IconUnzoom:f,IconZoom:m,isZoomed:p,wrapElement:v,ZoomContent:w,zoomImg:S,zoomMargin:y},refContent:L,refDialog:z,refModalContent:I,refModalImg:C,refWrap:H,state:{id:W,isZoomImgLoaded:x,loadedImgEl:M,modalState:R,shouldRefresh:T}}=this,k=`rmiz-modal-${W}`,N=`rmiz-modal-img-${W}`,O=c(n),D=u(n),A=g(n),Z=(e=>{if(e)return u(e)?e.alt??void 0:e.getAttribute("aria-label")??void 0})(n),U=b(n),V=D?n.sizes:void 0,P=D?n.srcset:void 0,j=!!S?.src,B=n&&(M||A)&&"none"!==window.getComputedStyle(n).display,Y=Z?`${o}: ${Z}`:o,$="LOADING"===R||"LOADED"===R,F=B?"found":"not-found",q="UNLOADED"===R||"UNLOADING"===R?"hidden":"visible",G={visibility:"UNLOADED"===R?"visible":"hidden"},_=(e=>{if(!e)return{};if(g(e)){const t=e.parentElement,i=e.getBoundingClientRect();if(t){const e=t.getBoundingClientRect();return{height:i.height,left:e.left-i.left,top:e.top-i.top,width:i.width}}return{height:i.height,left:i.left,width:i.width,top:i.top}}return{height:e.offsetHeight,left:e.offsetLeft,width:e.offsetWidth,top:e.offsetTop}})(n);this.styleModalImg=B?E({hasZoomImg:j,imgSrc:U,isSvg:A,isZoomed:p&&$,loadedImgEl:M,offset:y,shouldRefresh:T,targetEl:n}):{};let K=null;if(B){const e=D||O?d.createElement("img",{alt:Z,sizes:V,src:U,srcSet:P,...x&&"LOADED"===R?S:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:N,ref:C,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):A?d.createElement("div",{"data-rmiz-modal-img":!0,ref:C,style:this.styleModalImg}):null,t=d.createElement("button",{"aria-label":r,"data-rmiz-btn-unzoom":"",onClick:i,type:"button"},d.createElement(f,null));K=w?d.createElement(w,{buttonUnzoom:t,modalState:R,img:e,onUnzoom:i}):d.createElement(d.Fragment,null,e,t)}return d.createElement(v,{"aria-owns":k,"data-rmiz":"",ref:H},d.createElement(v,{"data-rmiz-content":F,ref:L,style:G},s),B&&d.createElement(v,{"data-rmiz-ghost":"",style:_},d.createElement("button",{"aria-label":Y,"data-rmiz-btn-zoom":"",onClick:a,type:"button"},d.createElement(m,null))),B&&(0,l.createPortal)(d.createElement("dialog",{"aria-labelledby":N,"aria-modal":"true",className:h,"data-rmiz-modal":"",id:k,onClick:t,onClose:i,onCancel:e,ref:z,role:"dialog"},d.createElement("div",{"data-rmiz-modal-overlay":q}),d.createElement("div",{"data-rmiz-modal-content":"",ref:I},K)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){"UNLOADED"!==this.state.modalState&&this.bodyScrollEnable(),this.changeObserver?.disconnect?.(),this.imgElObserver?.disconnect?.(),this.imgEl?.removeEventListener?.("load",this.handleImgLoad),this.imgEl?.removeEventListener?.("click",this.handleZoom),this.refModalImg.current?.removeEventListener?.("transitionend",this.handleZoomEnd),this.refModalImg.current?.removeEventListener?.("transitionend",this.handleUnzoomEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(e){this.UNSAFE_handleSvg(),this.handleIfZoomChanged(e.isZoomed)}}I.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",IconUnzoom:function(){return d.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))},IconZoom:function(){return d.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))},wrapElement:"div",zoomMargin:0};var C=i(3970);var H,W=e=>{const{0:t,1:i}=(0,d.useState)(!1),{theme:a}=(0,C.FL)(),n={...e,className:"Image__Zoom",style:{display:"block",margin:"0 auto",width:"100%",borderRadius:t?"5px":"0px"}},o=(0,d.useCallback)((e=>{i(e)}),[]);return(0,r.Y)(z,{isZoomed:t,onZoomChange:o,zoomMargin:40,overlayBgColorEnd:a.colors.background},(0,r.Y)("img",{className:n.className,src:n.src,alt:n.alt,style:n.style}))},x=i(8168),M=i(5276),R=i(8729);const T=(0,a.A)("div",{target:"e13pqb560"})("display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:#ccc;color:#898989;font-size:32px;font-weight:600;",R.A.phablet(H||(H=(0,M.A)(["\n    font-size: 28px;\n  "]))),";");var k=e=>{const t=(0,d.useRef)(null),{0:i,1:a}=(0,d.useState)({width:0,height:0});return(0,d.useEffect)((()=>{a(t.current.getBoundingClientRect());const e=()=>a(t.current.getBoundingClientRect());return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,r.Y)(T,(0,x.A)({ref:t},e),(0,r.Y)("div",null,i.width," x ",i.height))}},4893:function(e){e.exports=function(e,t){if(null==e)return{};var i,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)i=r[a],t.indexOf(i)>=0||(n[i]=e[i]);return n},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=7e6c5f5686001ea91f23249ce68d4230e21d4771-582c39a514098ac456e6.js.map