{"version":3,"file":"component---node-modules-sudaraka-94-gatsby-theme-novela-src-templates-article-template-tsx-content-file-path-content-posts-2021-12-06-go-embed-instead-of-packr-index-md-8033ddbe0ea93628ec87.js","mappings":"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","sources":["webpack://novela-blog/./content/posts/2021-12-06-go-embed-instead-of-packr/index.md","webpack://novela-blog/./node_modules/@sudaraka94/gatsby-theme-novela/src/templates/article.template.tsx"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    span: \"span\",\n    code: \"code\",\n    a: \"a\",\n    ol: \"ol\",\n    li: \"li\",\n    h4: \"h4\",\n    pre: \"pre\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.p, null, \"Many of the microservices I am working right now, are written in Golang. Most of these microservices have\\ninternal dashboards and the UI tend to be served from the respective microservices. For serving a UI from a golang service\\n(or any other service), you need to serve the UI files from the service. But specially in Golang, this used to be not very\\nstraight forward. Althogh we can serve files from a certain folder using a static file server feature in Golang, the language was missing the native support to bundle ui files with the service executable. For getting this done, there are several open source golang libraries out there such as,\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;alecthomas&#x2F;gobundle' target='_blank' title='GitHub - alecthomas&#x2F;gobundle: DEPRECATED: I recommend https:&#x2F;&#x2F;github.com&#x2F;GeertJohan&#x2F;go.rice'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;aa66dfc4e936b4e8462bc53d5398ed4efbaff78224c81a60a536186036dba6be&#x2F;alecthomas&#x2F;gobundle)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - alecthomas&#x2F;gobundle: DEPRECATED: I recommend https:&#x2F;&#x2F;github.com&#x2F;GeertJohan&#x2F;go.rice'>GitHub - alecthomas&#x2F;gobundle: DEPRECATED: I recommend https:&#x2F;&#x2F;github.com&#x2F;GeertJohan&#x2F;go.rice</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title='DEPRECATED: I recommend https:&#x2F;&#x2F;github.com&#x2F;GeertJohan&#x2F;go.rice - alecthomas&#x2F;gobundle'>DEPRECATED: I recommend https:&#x2F;&#x2F;github.com&#x2F;GeertJohan&#x2F;go.rice - alecthomas&#x2F;gobundle</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;GeertJohan&#x2F;go.rice' target='_blank' title='GitHub - GeertJohan&#x2F;go.rice: go.rice is a Go package that makes working with resources such as html,js,css,images,templates, etc very easy.'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;25376ade83da0168a20c6f543d5f014ad7cbb5d874df8d3d73840e0683d30506&#x2F;GeertJohan&#x2F;go.rice)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - GeertJohan&#x2F;go.rice: go.rice is a Go package that makes working with resources such as html,js,css,images,templates, etc very easy.'>GitHub - GeertJohan&#x2F;go.rice: go.rice is a Go package that makes working with resources such as html,js,css,images,templates, etc very easy.</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title='go.rice is a Go package that makes working with resources such as html,js,css,images,templates, etc very easy. - GeertJohan&#x2F;go.rice'>go.rice is a Go package that makes working with resources such as html,js,css,images,templates, etc very easy. - GeertJohan&#x2F;go.rice</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;go-playground&#x2F;statics' target='_blank' title='GitHub - go-playground&#x2F;statics: :file_folder: Embeds static resources into go files for single binary compilation + works with http.FileSystem + symlinks'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;25cf04d15551b042313a212bdc4eb2dcac613bd30339f0d70c1d428e442c1481&#x2F;go-playground&#x2F;statics)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - go-playground&#x2F;statics: :file_folder: Embeds static resources into go files for single binary compilation + works with http.FileSystem + symlinks'>GitHub - go-playground&#x2F;statics: :file_folder: Embeds static resources into go files for single binary compilation + works with http.FileSystem + symlinks</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title=':file_folder: Embeds static resources into go files for single binary compilation + works with http.FileSystem + symlinks - go-playground&#x2F;statics'>:file_folder: Embeds static resources into go files for single binary compilation + works with http.FileSystem + symlinks - go-playground&#x2F;statics</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;gobuffalo&#x2F;packr' target='_blank' title='GitHub - gobuffalo&#x2F;packr: The simple and easy way to embed static files into Go binaries.'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;04551ce6160f5e77447d3f4fcf8ab278f11bc8ef1e0ab4b8aee655af25d78fbb&#x2F;gobuffalo&#x2F;packr)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - gobuffalo&#x2F;packr: The simple and easy way to embed static files into Go binaries.'>GitHub - gobuffalo&#x2F;packr: The simple and easy way to embed static files into Go binaries.</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title='The simple and easy way to embed static files into Go binaries. - gobuffalo&#x2F;packr'>The simple and easy way to embed static files into Go binaries. - gobuffalo&#x2F;packr</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;knadh&#x2F;stuffbin' target='_blank' title='GitHub - knadh&#x2F;stuffbin: Compress and embed static files and assets into Go binaries and access them with a virtual file system in production'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;aac04568bf76178c9c1229cf1dec2c1aed42c164c3496b9e1f8f789a146225b0&#x2F;knadh&#x2F;stuffbin)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - knadh&#x2F;stuffbin: Compress and embed static files and assets into Go binaries and access them with a virtual file system in production'>GitHub - knadh&#x2F;stuffbin: Compress and embed static files and assets into Go binaries and access them with a virtual file system in production</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title='Compress and embed static files and assets into Go binaries and access them with a virtual file system in production - knadh&#x2F;stuffbin'>Compress and embed static files and assets into Go binaries and access them with a virtual file system in production - knadh&#x2F;stuffbin</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;maddyblue&#x2F;esc' target='_blank' title='GitHub - maddyblue&#x2F;esc: A simple file embedder for Go'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;dd528fd797bbb311832271c42161be2caa36ad47b77d17e8e1312727a8be74b9&#x2F;maddyblue&#x2F;esc)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - maddyblue&#x2F;esc: A simple file embedder for Go'>GitHub - maddyblue&#x2F;esc: A simple file embedder for Go</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title='A simple file embedder for Go. Contribute to maddyblue&#x2F;esc development by creating an account on GitHub.'>A simple file embedder for Go. Contribute to maddyblue&#x2F;esc development by creating an account on GitHub.</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;omeid&#x2F;go-resources' target='_blank' title='GitHub - omeid&#x2F;go-resources: Unfancy resources embedding for Go with out of box http.FileSystem support.'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;e271ffea06be1a962385f3ec14cd22413441bd9350f48389cd3333e9ea2180fe&#x2F;omeid&#x2F;go-resources)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - omeid&#x2F;go-resources: Unfancy resources embedding for Go with out of box http.FileSystem support.'>GitHub - omeid&#x2F;go-resources: Unfancy resources embedding for Go with out of box http.FileSystem support.</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title='Unfancy resources embedding for Go with out of box http.FileSystem support. - omeid&#x2F;go-resources'>Unfancy resources embedding for Go with out of box http.FileSystem support. - omeid&#x2F;go-resources</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;phogolabs&#x2F;parcello' target='_blank' title='GitHub - phogolabs&#x2F;parcello: Golang Resource Bundler [deprecated]'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;27e34264d47dca86a7a5815ead15beb00efeb9b163ae88a134a81ecfbb19153b&#x2F;phogolabs&#x2F;parcello)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - phogolabs&#x2F;parcello: Golang Resource Bundler [deprecated]'>GitHub - phogolabs&#x2F;parcello: Golang Resource Bundler [deprecated]</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title='Golang Resource Bundler [deprecated]. Contribute to phogolabs&#x2F;parcello development by creating an account on GitHub.'>Golang Resource Bundler [deprecated]. Contribute to phogolabs&#x2F;parcello development by creating an account on GitHub.</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;rakyll&#x2F;statik' target='_blank' title='GitHub - rakyll&#x2F;statik: Embed files into a Go executable'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;fb92d6bb9d85240c528206a8d9b7b482a097a09885515cf3f637c29e8cee8cc1&#x2F;rakyll&#x2F;statik)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - rakyll&#x2F;statik: Embed files into a Go executable'>GitHub - rakyll&#x2F;statik: Embed files into a Go executable</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title='Embed files into a Go executable. Contribute to rakyll&#x2F;statik development by creating an account on GitHub.'>Embed files into a Go executable. Contribute to rakyll&#x2F;statik development by creating an account on GitHub.</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;shurcooL&#x2F;vfsgen' target='_blank' title='GitHub - shurcooL&#x2F;vfsgen: Takes an input http.FileSystem (likely at go generate time) and generates Go code that statically implements it.'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;3d8cc81fc1bccbc144aee05226fa08d0842055736a43f59eb4a2dfe554eb5268&#x2F;shurcooL&#x2F;vfsgen)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - shurcooL&#x2F;vfsgen: Takes an input http.FileSystem (likely at go generate time) and generates Go code that statically implements it.'>GitHub - shurcooL&#x2F;vfsgen: Takes an input http.FileSystem (likely at go generate time) and generates Go code that statically implements it.</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title='Takes an input http.FileSystem (likely at go generate time) and generates Go code that statically implements it. - shurcooL&#x2F;vfsgen'>Takes an input http.FileSystem (likely at go generate time) and generates Go code that statically implements it. - shurcooL&#x2F;vfsgen</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;UnnoTed&#x2F;fileb0x' target='_blank' title='GitHub - UnnoTed&#x2F;fileb0x: a better customizable tool to embed files in go; also update embedded files remotely without restarting the server'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;b4eca2204e030becb2db30f0dadcffae1310123a751f6de48b455c126e418c32&#x2F;UnnoTed&#x2F;fileb0x)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - UnnoTed&#x2F;fileb0x: a better customizable tool to embed files in go; also update embedded files remotely without restarting the server'>GitHub - UnnoTed&#x2F;fileb0x: a better customizable tool to embed files in go; also update embedded files remotely without restarting the server</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title='a better customizable tool to embed files in go; also update embedded files remotely without restarting the server - UnnoTed&#x2F;fileb0x'>a better customizable tool to embed files in go; also update embedded files remotely without restarting the server - UnnoTed&#x2F;fileb0x</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;wlbr&#x2F;templify' target='_blank' title='GitHub - wlbr&#x2F;templify: A tool to be used with &#39;go generate&#39; to embed external template files into Go code.'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;8deb3c81eb0ce64fade213d40f5056e98f876aa08c2c4f6cfc30aa5c3c554877&#x2F;wlbr&#x2F;templify)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - wlbr&#x2F;templify: A tool to be used with &#39;go generate&#39; to embed external template files into Go code.'>GitHub - wlbr&#x2F;templify: A tool to be used with &#39;go generate&#39; to embed external template files into Go code.</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title='A tool to be used with &#39;go generate&#39; to embed external template files into Go code. - wlbr&#x2F;templify'>A tool to be used with &#39;go generate&#39; to embed external template files into Go code. - wlbr&#x2F;templify</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })), \"\\n\", React.createElement(_components.p, null, \"We we using the packer library from above. On the high level, these libraries serialized all the static content and\\nstored the serialized contents inside \", React.createElement(_components.code, null, \".go\"), \" files. So once we update any of the static contents, we had to run a specific command\\nfor the serialization and generating the new \", React.createElement(_components.code, null, \".go\"), \" files.\"), \"\\n\", React.createElement(_components.p, null, \"But then on one bright sunny day, Golang team introduced their latest feature, \", React.createElement(_components.a, {\n    href: \"https://golang.org/doc/go1.16#library-embed\",\n    target: \"_blank\",\n    rel: \"noreferrer\"\n  }, \"Embedded Files\"), \" in their latest version \", React.createElement(_components.code, null, \"go 1.16\"), \". Since this native way of embedding files eliminates the need of generating files explicitly and it looks more convenient, we wanted to make the switch in our services.\"), \"\\n\", React.createElement(_components.p, null, \"I faced with few challenges while doing the switch,\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, \"Go embed directive doesn’t support paths with \", React.createElement(_components.code, null, \"..\"), \" according to the documentation (accessing the parent file)\"), \"\\n\", React.createElement(_components.li, null, \"Go embed always considers the path from the root.\\neg: if the file is \", React.createElement(_components.code, null, \"project-root/static/index.html\"), \" you will be able to access the file on \", React.createElement(_components.code, null, \"http://localhost:8080/static/index.html\")), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"As the solution to the first problem, I ended up defining the \", React.createElement(_components.code, null, \"//go:embed\"), \" directive in the \", React.createElement(_components.code, null, \"main.go\")), \"\\n\", React.createElement(_components.p, null, \"But as a solution to the other problem, I came up with the following implementation,\"), \"\\n\", React.createElement(_components.h4, null, \"main.go\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-go\"\n  }, \"package main\\n\\nimport (\\n\\t\\\"embed\\\"\\n\\t\\\"log\\\"\\n\\t\\\"net/http\\\"\\n)\\n\\n//go:embed static/*\\nvar staticContent embed.FS\\n\\nfunc main() {\\n\\thttp.Handle(\\\"/\\\", http.FileServer(http.FS(StaticFS{staticContent})))\\n\\tlog.Fatal(http.ListenAndServe(\\\":8080\\\", nil))\\n}\\n\")), \"\\n\", React.createElement(_components.h4, null, \"staticfs.go\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-go\"\n  }, \"package main\\n\\nimport (\\n\\t\\\"embed\\\"\\n\\t\\\"io/fs\\\"\\n\\t\\\"path\\\"\\n)\\n\\ntype StaticFS struct {\\n\\tcontent embed.FS\\n}\\n\\nfunc (c StaticFS) Open(name string) (fs.File, error) {\\n\\treturn c.content.Open(path.Join(\\\"static\\\", name))\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"You can see a working demo in below repo\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<a class='gatsby-remark-link-unfurl__container' href='https:&#x2F;&#x2F;github.com&#x2F;sudaraka94&#x2F;go-embed-demo' target='_blank' title='GitHub - sudaraka94&#x2F;go-embed-demo: A demo for embedding files using golang'><div class='gatsby-remark-link-unfurl__media' style='background-image: url(https:&#x2F;&#x2F;opengraph.githubassets.com&#x2F;be581474186e537e34043cc8a98ca4211c73aa6af5be49113a7b18d414746f41&#x2F;sudaraka94&#x2F;go-embed-demo)'></div><div class='gatsby-remark-link-unfurl__content'>  <header class='gatsby-remark-link-unfurl__title'><p  title='GitHub - sudaraka94&#x2F;go-embed-demo: A demo for embedding files using golang'>GitHub - sudaraka94&#x2F;go-embed-demo: A demo for embedding files using golang</p></header>  <div class='gatsby-remark-link-unfurl__description'><p title='A demo for embedding files using golang. Contribute to sudaraka94&#x2F;go-embed-demo development by creating an account on GitHub.'>A demo for embedding files using golang. Contribute to sudaraka94&#x2F;go-embed-demo development by creating an account on GitHub.</p></div>  <footer><p title='GitHub'>GitHub</p><span title='GitHub' style='background-image: url(https:&#x2F;&#x2F;github.githubassets.com&#x2F;favicons&#x2F;favicon.svg); background-repeat: no-repeat; background-position: center center;'></span></footer></div></a>\"\n    }\n  })));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/home/runner/work/sudaraka94.github.io/sudaraka94.github.io/content/posts/2021-12-06-go-embed-instead-of-packr/index.md\";\nimport React, {useRef, useState, useEffect} from \"react\";\nimport styled from \"@emotion/styled\";\nimport throttle from \"lodash/throttle\";\nimport {graphql, useStaticQuery} from \"gatsby\";\nimport Layout from \"@components/Layout\";\nimport MDXRenderer from \"@components/MDX\";\nimport Progress from \"@components/Progress\";\nimport Section from \"@components/Section\";\nimport mediaqueries from \"@styles/media\";\nimport {debounce} from \"@utils\";\nimport ArticleAside from \"../sections/article/Article.Aside\";\nimport ArticleHero from \"../sections/article/Article.Hero\";\nimport ArticleControls from \"../sections/article/Article.Controls\";\nimport ArticlesNext from \"../sections/article/Article.Next\";\nimport ArticleSEO from \"../sections/article/Article.SEO\";\nimport ArticleShare from \"../sections/article/Article.Share\";\nimport ArticleFooter from './article.footer.template';\nconst siteQuery = graphql`\n  {\n    allSite {\n      edges {\n        node {\n          siteMetadata {\n            name\n          }\n        }\n      }\n    }\n  }\n`;\nconst Article = ({pageContext, location, children}) => {\n  const contentSectionRef = useRef(null);\n  const [hasCalculated, setHasCalculated] = useState(false);\n  const [contentHeight, setContentHeight] = useState(0);\n  const results = useStaticQuery(siteQuery);\n  const name = results.allSite.edges[0].node.siteMetadata.name;\n  const {article, authors, next} = pageContext;\n  useEffect(() => {\n    const calculateBodySize = throttle(() => {\n      const contentSection = contentSectionRef.current;\n      if (!contentSection) return;\n      if (!hasCalculated) {\n        const debouncedCalculation = debounce(calculateBodySize);\n        const $imgs = contentSection.querySelectorAll(\"img\");\n        $imgs.forEach($img => {\n          if (!$img.complete) $img.onload = debouncedCalculation;\n        });\n        setHasCalculated(true);\n      }\n      setContentHeight(contentSection.getBoundingClientRect().height);\n    }, 20);\n    calculateBodySize();\n    window.addEventListener(\"resize\", calculateBodySize);\n    return () => window.removeEventListener(\"resize\", calculateBodySize);\n  }, []);\n  return React.createElement(Layout, null, React.createElement(ArticleSEO, {\n    article: article,\n    authors: authors,\n    location: location\n  }), React.createElement(ArticleHero, {\n    article: article,\n    authors: authors\n  }), React.createElement(ArticleAside, {\n    contentHeight: contentHeight\n  }, React.createElement(Progress, {\n    contentHeight: contentHeight\n  })), React.createElement(MobileControls, null, React.createElement(ArticleControls)), React.createElement(ArticleBody, {\n    ref: contentSectionRef\n  }, React.createElement(MDXRenderer, null, React.createElement(ArticleShare), children)), React.createElement(ArticleFooter, {\n    pageContext: pageContext\n  }), next.length > 0 && React.createElement(NextArticle, {\n    narrow: true\n  }, React.createElement(FooterNext, null, \"More articles from \", name), React.createElement(ArticlesNext, {\n    articles: next\n  }), React.createElement(FooterSpacer)));\n};\nArticle\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(Article, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nconst MobileControls = (styled.div)`\n  position: relative;\n  padding-top: 60px;\n  transition: background 0.2s linear;\n  text-align: center;\n\n  ${(mediaqueries.tablet_up)`\n    display: none;\n  `}\n`;\nconst ArticleBody = (styled.article)`\n  position: relative;\n  padding: 160px 0 35px;\n  padding-left: 68px;\n  transition: background 0.2s linear;\n\n  ${(mediaqueries.desktop)`\n    padding-left: 53px;\n  `}\n  \n  ${(mediaqueries.tablet)`\n    padding: 70px 0 80px;\n  `}\n\n  ${(mediaqueries.phablet)`\n    padding: 60px 0;\n  `}\n`;\nconst NextArticle = (styled(Section))`\n  display: block;\n`;\nconst FooterNext = (styled.h3)`\n  position: relative;\n  opacity: 0.25;\n  margin-bottom: 100px;\n  font-weight: 400;\n  color: ${p => p.theme.colors.primary};\n\n  ${(mediaqueries.tablet)`\n    margin-bottom: 60px;\n  `}\n\n  &::after {\n    content: '';\n    position: absolute;\n    background: ${p => p.theme.colors.grey};\n    width: ${810 / 1140 * 100}%;\n    height: 1px;\n    right: 0;\n    top: 11px;\n\n    ${(mediaqueries.tablet)`\n      width: ${600 / 1140 * 100}%;\n    `}\n\n    ${(mediaqueries.phablet)`\n      width: ${400 / 1140 * 100}%;\n    `}\n\n    ${(mediaqueries.phone)`\n      width: 90px\n    `}\n  }\n`;\nconst FooterSpacer = (styled.div)`\n  margin-bottom: 65px;\n`;\n"],"names":["_createMdxContent","props","_components","Object","assign","p","span","code","a","ol","li","h4","pre","_provideComponents","components","React","dangerouslySetInnerHTML","__html","href","target","rel","className","wrapper","MDXLayout","Article","_ref","pageContext","location","children","contentSectionRef","useRef","hasCalculated","setHasCalculated","useState","contentHeight","setContentHeight","name","useStaticQuery","allSite","edges","node","siteMetadata","article","authors","next","useEffect","calculateBodySize","throttle","contentSection","current","debouncedCalculation","debounce","querySelectorAll","forEach","$img","complete","onload","getBoundingClientRect","height","window","addEventListener","removeEventListener","Layout","ArticleSEO","ArticleHero","ArticleAside","Progress","MobileControls","ArticleControls","ArticleBody","ref","MDXRenderer","ArticleShare","ArticleFooter","length","NextArticle","narrow","FooterNext","ArticlesNext","articles","FooterSpacer","GatsbyMDXWrapper","GATSBY_COMPILED_MDX","_styled","mediaqueries","tablet_up","_templateObject","_taggedTemplateLiteralLoose","desktop","_templateObject2","tablet","_templateObject3","phablet","_templateObject4","Section","styles","theme","colors","primary","_templateObject5","grey","_templateObject6","_templateObject7","phone","_templateObject8"],"sourceRoot":""}